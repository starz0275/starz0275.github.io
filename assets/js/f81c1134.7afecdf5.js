"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[130],{7735(n){n.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"Jean-blog-post","metadata":{"permalink":"/blog/Jean-blog-post","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/Linux_demo_day1.mdx","source":"@site/blog/Linux_demo_day1.mdx","title":"Linux\u9879\u76ee\u5b66\u4e60\u7b2c\u4e00\u5929","description":"1. \u9879\u76ee\u80cc\u666f\u4e0e\u76ee\u6807","date":"2026-02-10T14:28:27.000Z","tags":[{"inline":true,"label":"Linux","permalink":"/blog/tags/linux"},{"inline":true,"label":"\u9879\u76ee","permalink":"/blog/tags/\u9879\u76ee"}],"readingTime":3.4,"hasTruncateMarker":false,"authors":[{"name":"Xujing Nie","title":"\u5317\u4eac\u7406\u5de5\u5927\u5b66BME\u7814\u4e8c\u5728\u8bfb","url":"https://linkedin.com/in/xujing","page":{"permalink":"/blog/authors/xujing-nie"},"socials":{"linkedin":"https://www.linkedin.com/in/%E6%97%AD%E6%99%B6-%E8%81%82-2696a53a1/","github":"https://github.com/starz0275/starz0275.github.io","csdn":"https://blog.csdn.net/niexujing?spm=1000.2115.3001.5343"},"imageURL":"https://github.com/starz0275.png","key":"Xujing Nie"}],"frontMatter":{"slug":"Jean-blog-post","title":"Linux\u9879\u76ee\u5b66\u4e60\u7b2c\u4e00\u5929","authors":["Xujing Nie"],"tags":["Linux","\u9879\u76ee"]},"unlisted":false,"nextItem":{"title":"\u6211\u7684\u7b2c\u4e00\u7bc7\u535a\u5ba2\uff1a\u535a\u5ba2\u7f51\u7ad9\u4fe1\u606f\u66f4\u65b0","permalink":"/blog/Jean-blog-post"}},"content":"## 1. \u9879\u76ee\u80cc\u666f\u4e0e\u76ee\u6807\\r\\n\\r\\n\u4e3a\u4e86\u6df1\u5165\u638c\u63e1\u5d4c\u5165\u5f0f Linux \u5e94\u7528\u5f00\u53d1\uff0c\u6211\u542f\u52a8\u4e86\u4e00\u4e2a\u540d\u4e3a **\u201c\u57fa\u4e8e\u591a\u7ebf\u7a0b\u4e0e I/O \u591a\u8def\u590d\u7528\u7684\u7269\u8054\u7f51\u8fb9\u7f18\u8ba1\u7b97\u7f51\u5173\u201d** \u7684\u9879\u76ee\u3002\\r\\n\\r\\n\u8be5\u9879\u76ee\u7684\u6838\u5fc3\u76ee\u6807\u662f\u6784\u5efa\u4e00\u4e2a\u80fd\u591f\u9ad8\u6548\u8fde\u63a5\u5e95\u5c42\u611f\u77e5\u8bbe\u5907\uff08STM32\uff09\u4e0e\u4e0a\u5c42\u4e91\u7aef\u5e94\u7528\uff08PC/Server\uff09\u7684\u4e2d\u95f4\u4ef6\u3002\u5b83\u4e0d\u4ec5\u4ec5\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u636e\u900f\u4f20\u5de5\u5177\uff0c\u66f4\u662f\u4e00\u4e2a\u5305\u542b**\u6570\u636e\u89e3\u6790\u3001\u73af\u5f62\u7f13\u51b2\u3001\u591a\u7ebf\u7a0b\u5e76\u53d1\u3001\u7f51\u7edc\u8f6c\u53d1**\u7684\u5b8c\u6574\u8fb9\u7f18\u8ba1\u7b97\u8282\u70b9\u3002\\r\\n\\r\\n\u672c\u6587\u8bb0\u5f55\u4e86 **V1.0 \u7248\u672c\uff08\u6700\u5c0f\u53ef\u884c\u6027\u7cfb\u7edf\uff09** \u7684\u5f00\u53d1\u8fc7\u7a0b\u4e0e\u6280\u672f\u6c89\u6dc0\u3002\\r\\n\\r\\n## 2. \u7cfb\u7edf\u67b6\u6784 (V1.0)\\r\\n\\r\\n\u5728 V1.0 \u9636\u6bb5\uff0c\u4e3b\u8981\u4efb\u52a1\u662f\u6253\u901a **\u786c\u4ef6\u5c42\uff08STM32\uff09** \u5230 **\u4f20\u8f93\u5c42\uff08Linux \u4e32\u53e3\uff09** \u7684\u6570\u636e\u94fe\u8def\u3002\\r\\n\\r\\n**\u6570\u636e\u6d41\u5411\u56fe\uff1a**\\r\\n\\r\\n```\\r\\n[STM32 \u5355\u7247\u673a]  ----\x3e  [USB\u8f6c\u4e32\u53e3\u7ebf]  ----\x3e  [VMware Linux]  ----\x3e  [\u7ec8\u7aef\u663e\u793a]\\r\\n(\u6a21\u62df\u5149\u7167\u6570\u636e)         (\u7269\u7406\u4f20\u8f93\u5c42)          (\u5e94\u7528\u5c42 C\u7a0b\u5e8f)         (\u89e3\u6790\u7ed3\u679c)\\r\\n```\\r\\n\\r\\n**\u73af\u5883\u914d\u7f6e\uff1a**\\r\\n\\r\\n- **\u786c\u4ef6**\uff1aSTM32F103 \u5f00\u53d1\u677f + \u5149\u654f\u7535\u963b\uff08\u6a21\u62df\uff09\\r\\n\\r\\n- **\u5bbf\u4e3b\u673a**\uff1aWindows 11 + VMware Workstation\\r\\n\\r\\n  **\u5f00\u53d1\u73af\u5883**\uff1aUbuntu 18.04 LTS + GCC + VS Code\\r\\n\\r\\n## 3. \u6838\u5fc3\u6280\u672f\u5b9e\u73b0\\r\\n\\r\\n### 3.1 \u56fa\u4ef6\u7aef\uff1a\u6a21\u62df\u6570\u636e\u6e90\u4e0e\u534f\u8bae\u6253\u5305\\r\\n\\r\\n\u4e3a\u4e86\u5728\u786c\u4ef6\u4f20\u611f\u5668\u672a\u5b8c\u5168\u5c31\u7eea\u7684\u60c5\u51b5\u4e0b\u5148\u884c\u5f00\u53d1\u8f6f\u4ef6\u4e1a\u52a1\uff0c\u6211\u5728 STM32 \u7aef\u91c7\u7528\u4e86 **Mock Data\uff08\u6a21\u62df\u6570\u636e\uff09** \u7684\u8bbe\u8ba1\u601d\u8def\u3002\\r\\n\\r\\n- **\u6a21\u62df\u6570\u636e\u751f\u6210**\uff1a\u5728\u4e3b\u5faa\u73af\u4e2d\u8ba9\u5149\u7167\u6570\u503c\u5728 `0~4000` \u4e4b\u95f4\u7ebf\u6027\u5faa\u73af\uff0c\u4fbf\u4e8e\u63a5\u6536\u7aef\u901a\u8fc7\u6570\u636e\u8fde\u7eed\u6027\u5224\u65ad\u662f\u5426\u4e22\u5305\u3002\\r\\n- **\u5e95\u5c42\u9a71\u52a8**\uff1a\u4f7f\u7528 STM32 HAL \u5e93\u7684 `HAL_UART_Transmit` \u5b9e\u73b0\u963b\u585e\u5f0f\u53d1\u9001\u3002\\r\\n\\r\\n### 3.2 \u534f\u8bae\u5c42\uff1a\u81ea\u5b9a\u4e49\u901a\u4fe1\u534f\u8bae\u8bbe\u8ba1\\r\\n\\r\\n\u4e3a\u4e86\u89e3\u51b3\u4e32\u53e3\u901a\u4fe1\u4e2d\u5e38\u89c1\u7684\u201c\u7c98\u5305\u201d\u548c\u201c\u6570\u636e\u9519\u4f4d\u201d\u95ee\u9898\uff0c\u6211\u8bbe\u8ba1\u4e86\u4e00\u5957\u57fa\u4e8e **TLV (Type-Length-Value)** \u601d\u60f3\u7684\u4e8c\u8fdb\u5236\u901a\u4fe1\u534f\u8bae\u3002\\r\\n\\r\\n**\u534f\u8bae\u5e27\u7ed3\u6784\u5b9a\u4e49 (`protocol.h`)\uff1a**\\r\\n\\r\\n| \u5e27\u5934 (2B)   | \u547d\u4ee4 (1B) | \u957f\u5ea6 (1B) | \u6570\u636e\u8f7d\u8377 (N Byte)                | \u6821\u9a8c\u548c (1B) |\\r\\n| ----------- | --------- | --------- | -------------------------------- | ----------- |\\r\\n| `0xAA 0x55` | `0x01`    | `0x04`    | `[\u5149\u7167\u4f4e] [\u5149\u7167\u9ad8] [LED] [\u4fdd\u7559]` | Checksum    |\\r\\n\\r\\n**\u5173\u952e\u6280\u672f\u70b9\uff1a**\\r\\n\\r\\n- **\u5b57\u8282\u5bf9\u9f50**\uff1a\u5728\u5b9a\u4e49\u7ed3\u6784\u4f53\u65f6\u4f7f\u7528\u4e86 `__attribute__((packed))`\uff0c\u5f3a\u5236\u53d6\u6d88\u7f16\u8bd1\u5668\u7684\u5185\u5b58\u5bf9\u9f50\u4f18\u5316\uff0c\u786e\u4fdd\u7ed3\u6784\u4f53\u5728\u5185\u5b58\u4e2d\u7684\u5e03\u5c40\u4e0e\u7f51\u7edc\u4f20\u8f93\u5b57\u8282\u6d41\u5b8c\u5168\u4e00\u81f4\u3002\\r\\n\\r\\n### 3.3 \u5e94\u7528\u5c42\uff1aLinux \u4e32\u53e3\u7f16\u7a0b\\r\\n\\r\\n\u8fd9\u662f V1.0 \u7248\u672c\u6700\u6838\u5fc3\u7684\u5de5\u4f5c\u3002\u5728 Linux \u73af\u5883\u4e0b\uff0c\u4e00\u5207\u7686\u6587\u4ef6\u3002\u901a\u8fc7\u64cd\u4f5c `/dev/ttyACM0` \u8bbe\u5907\u6587\u4ef6\uff0c\u5b9e\u73b0\u4e86\u6570\u636e\u7684\u5b9e\u65f6\u8bfb\u53d6\u3002\\r\\n\\r\\n**Termios \u914d\u7f6e\u8981\u70b9\uff1a** \u4e3a\u4e86\u786e\u4fdd\u4f20\u8f93\u4e8c\u8fdb\u5236\u6570\u636e\u65f6\u4e0d\u88ab\u64cd\u4f5c\u7cfb\u7edf\u201c\u7be1\u6539\u201d\uff08\u4f8b\u5982\u5c06 `0x0D` \u81ea\u52a8\u8f6c\u6362\u4e3a `0x0A`\uff09\uff0c\u5fc5\u987b\u5c06\u4e32\u53e3\u914d\u7f6e\u4e3a **Raw Mode\uff08\u539f\u59cb\u6a21\u5f0f\uff09**\uff1a\\r\\n\\r\\n```\\r\\n// \u5173\u952e\u914d\u7f6e\u4ee3\u7801\u7247\u6bb5\\r\\nstruct termios options;\\r\\ntcgetattr(fd, &options);\\r\\n\\r\\n// \u5173\u95ed\u89c4\u8303\u6a21\u5f0f\u3001\u56de\u663e\u3001\u4fe1\u53f7\u54cd\u5e94\\r\\noptions.c_lflag &= ~(ICANON | ECHO | ECHOE | ISIG);\\r\\n// \u5173\u95ed\u8f6f\u4ef6\u6d41\u63a7\\r\\noptions.c_iflag &= ~(IXON | IXOFF | IXANY); \\r\\n// \u5173\u95ed\u56de\u8f66\u8f6c\u6362\\r\\noptions.c_iflag &= ~(ICRNL | INLCR);\\r\\n// \u5173\u95ed\u8f93\u51fa\u5904\u7406\\r\\noptions.c_oflag &= ~OPOST; \\r\\n\\r\\ntcsetattr(fd, TCSANOW, &options);\\r\\n```\\r\\n\\r\\n### 3.4 \u7b97\u6cd5\u5c42\uff1a\u72b6\u6001\u673a\u89e3\u6790\\r\\n\\r\\n\u5728\u63a5\u6536\u7aef\uff0c\u5b9e\u73b0\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u72b6\u6001\u673a\u903b\u8f91\u3002\u7a0b\u5e8f\u5728\u63a5\u6536\u5230\u7684 HEX \u6570\u636e\u6d41\u4e2d\u5b9e\u65f6\u68c0\u7d22\u5e27\u5934 `0xAA 0x55`\uff0c\u4e00\u65e6\u9501\u5b9a\u5e27\u5934\uff0c\u5373\u8bfb\u53d6\u540e\u7eed\u6307\u4ee4\u4e0e\u6570\u636e\uff0c\u5e76\u8fdb\u884c\u6821\u9a8c\u3002\\r\\n\\r\\n**\u89e3\u6790\u6548\u679c\uff1a** Linux \u7ec8\u7aef\u6210\u529f\u63a5\u6536\u5e76\u8fd8\u539f\u4e86 STM32 \u53d1\u9001\u7684\u7269\u7406\u6570\u636e\uff1a\\r\\n\\r\\n```\\r\\n[\u6536\u5230\u6570\u636e\u5305] ==================\\r\\n  \u539f\u59cb HEX: AA 55 01 04 C8 00 00 00 C2\\r\\n  >>> \u4f20\u611f\u5668\u4e0a\u62a5 <<<\\r\\n  \u5149\u7167\u5f3a\u5ea6: 200\\r\\n  LED \u72b6\u6001: OFF\\r\\n```\\r\\n\\r\\n## 4. \u9047\u5230\u7684\u5751\u4e0e\u89e3\u51b3\u65b9\u6848\\r\\n\\r\\n1. **WSL 2 \u7684\u4e32\u53e3\u9a71\u52a8\u95ee\u9898**\uff1a \u8d77\u521d\u5c1d\u8bd5\u5728 WSL 2 \u73af\u5883\u4e0b\u5f00\u53d1\uff0c\u906d\u9047\u4e86\u4e25\u91cd\u7684 `Input/output error`\u3002\u5206\u6790\u53d1\u73b0 WSL \u5bf9 USB \u8f6c\u4e32\u53e3\u8bbe\u5907\u7684\u76f4\u63a5\u6620\u5c04\u5728\u9ad8\u6ce2\u7279\u7387\u4e0b\u6781\u4e0d\u7a33\u5b9a\u3002 **\u89e3\u51b3**\uff1a\u679c\u65ad\u8fc1\u79fb\u81f3 **VMware \u865a\u62df\u673a**\uff0c\u5229\u7528\u5176 USB \u7269\u7406\u900f\u4f20\u529f\u80fd\uff0c\u5f7b\u5e95\u89e3\u51b3\u4e86\u9a71\u52a8\u4e0d\u7a33\u7684\u95ee\u9898\u3002\\r\\n2. **Keil \u7f16\u8bd1\u5668\u517c\u5bb9\u6027**\uff1a \u5728\u79fb\u690d\u534f\u8bae\u5934\u6587\u4ef6\u5230 STM32 \u65f6\uff0c\u9047\u5230\u4e86 C90 \u6807\u51c6\u4e0d\u652f\u6301\u67d4\u6027\u6570\u7ec4 `data[0]` \u7684\u62a5\u9519\u3002 **\u89e3\u51b3**\uff1a\u4fee\u6539\u4e3a `data[1]` \u6216\u5f00\u542f C99 \u6a21\u5f0f\uff0c\u89e3\u51b3\u4e86\u7f16\u8bd1\u9519\u8bef\u3002"},{"id":"Jean-blog-post","metadata":{"permalink":"/blog/Jean-blog-post","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/blog-post.mdx","source":"@site/blog/blog-post.mdx","title":"\u6211\u7684\u7b2c\u4e00\u7bc7\u535a\u5ba2\uff1a\u535a\u5ba2\u7f51\u7ad9\u4fe1\u606f\u66f4\u65b0","description":"\u8fd9\u662f\u6211\u7684\u7b2c\u4e00\u7bc7\u535a\u5ba2\u6587\u7ae0\u3002","date":"2026-02-03T13:50:46.000Z","tags":[{"inline":true,"label":"\u535a\u5ba2","permalink":"/blog/tags/\u535a\u5ba2"},{"inline":true,"label":"\u8bb0\u5f55","permalink":"/blog/tags/\u8bb0\u5f55"}],"readingTime":0.2,"hasTruncateMarker":false,"authors":[{"name":"Xujing Nie","title":"\u5317\u4eac\u7406\u5de5\u5927\u5b66BME\u7814\u4e8c\u5728\u8bfb","url":"https://linkedin.com/in/xujing","page":{"permalink":"/blog/authors/xujing-nie"},"socials":{"linkedin":"https://www.linkedin.com/in/%E6%97%AD%E6%99%B6-%E8%81%82-2696a53a1/","github":"https://github.com/starz0275/starz0275.github.io","csdn":"https://blog.csdn.net/niexujing?spm=1000.2115.3001.5343"},"imageURL":"https://github.com/starz0275.png","key":"Xujing Nie"}],"frontMatter":{"slug":"Jean-blog-post","title":"\u6211\u7684\u7b2c\u4e00\u7bc7\u535a\u5ba2\uff1a\u535a\u5ba2\u7f51\u7ad9\u4fe1\u606f\u66f4\u65b0","authors":["Xujing Nie"],"tags":["\u535a\u5ba2","\u8bb0\u5f55"]},"unlisted":false,"prevItem":{"title":"Linux\u9879\u76ee\u5b66\u4e60\u7b2c\u4e00\u5929","permalink":"/blog/Jean-blog-post"}},"content":"\u8fd9\u662f\u6211\u7684\u7b2c\u4e00\u7bc7\u535a\u5ba2\u6587\u7ae0\u3002\\r\\n\u4eca\u5929\u6211\u914d\u7f6e\u597d\u4e86 Docusaurus \u7f51\u7ad9\uff0c\u8fc7\u7a0b\u867d\u7136\u66f2\u6298\uff0c\u4f46\u5b66\u5230\u4e86\u5f88\u591a\u535a\u5ba2\u914d\u7f6e\u7684\u77e5\u8bc6\uff0c\u4e86\u89e3\u4e86\u8fd9\u4e2a\u7f51\u7ad9\u7684\u7ed3\u6784\uff0c\u5f80\u540e\u591a\u591a\u8bb0\u5f55\u6211\u7684\u5d4c\u5165\u5f0f\u5b66\u4e60\u8fc7\u7a0b\u3002"}]}}')}}]);